import React from "react";
import { motion } from "framer-motion";
import { BookOpen, Factory, Users, Hammer, Timeline, Landmark, GraduationCap, ShieldCheck } from "lucide-react";

// Versão simplificada: compatível com deploy direto no Vercel (sem dependência de shadcn/ui)

const Section = ({ id, title, icon: Icon, children }) => (
  <section id={id} className="py-16 scroll-mt-24">
    <div className="max-w-6xl mx-auto px-4">
      <motion.h2
        className="flex items-center gap-3 text-3xl md:text-4xl font-bold mb-6"
        initial={{ opacity: 0, y: 12 }}
        whileInView={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.5 }}
        viewport={{ once: true }}
      >
        {Icon && <Icon className="w-8 h-8" />} {title}
      </motion.h2>
      <motion.div
        initial={{ opacity: 0, y: 12 }}
        whileInView={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.5, delay: 0.1 }}
        viewport={{ once: true }}
      >
        {children}
      </motion.div>
    </div>
  </section>
);

const Pill = ({ children }) => (
  <span className="inline-flex items-center rounded-2xl px-3 py-1 text-sm bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700">{children}</span>
);

const TimelineItem = ({ year, title, text }) => (
  <li className="relative pl-6 pb-10">
    <span className="absolute left-0 top-1.5 w-3 h-3 rounded-full bg-emerald-500"></span>
    <div className="text-sm text-neutral-500">{year}</div>
    <div className="text-lg font-semibold">{title}</div>
    <p className="text-neutral-700 dark:text-neutral-300 leading-relaxed">{text}</p>
  </li>
);

const Card = ({ children }) => (
  <div className="rounded-2xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 shadow p-5">{children}</div>
);

export default function MovimentoOperarioBrasil() {
  return (
    <div className="min-h-screen bg-gradient-to-b from-white to-neutral-50 dark:from-neutral-900 dark:to-neutral-950 text-neutral-900 dark:text-neutral-50">
      {/* Navbar */}
      <header className="sticky top-0 z-40 border-b border-neutral-200/60 dark:border-neutral-800/60 backdrop-blur bg-white/70 dark:bg-neutral-900/70">
        <nav className="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
          <a href="#inicio" className="font-bold text-xl flex items-center gap-2">
            <Factory className="w-6 h-6" /> Movimento Operário no Brasil
          </a>
          <div className="hidden md:flex gap-4 text-sm">
            <a href="#introducao" className="hover:underline">Introdução</a>
            <a href="#linha-do-tempo" className="hover:underline">Linha do tempo</a>
            <a href="#greves" className="hover:underline">Greves & Conquistas</a>
            <a href="#conceitos" className="hover:underline">Conceitos</a>
            <a href="#fontes" className="hover:underline">Leitura</a>
          </div>
        </nav>
      </header>

      {/* Hero */}
      <section id="inicio" className="relative overflow-hidden">
        <div className="max-w-6xl mx-auto px-4 py-20 grid md:grid-cols-2 gap-8 items-center">
          <motion.div initial={{ opacity: 0, y: 16 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.6 }}>
            <h1 className="text-4xl md:text-5xl font-extrabold leading-tight">
              Trabalho, organização e luta: <span className="text-emerald-600">o movimento operário brasileiro</span>
            </h1>
            <p className="mt-4 text-lg text-neutral-700 dark:text-neutral-300">
              Um panorama didático das origens, principais mobilizações e impactos sociais e legais do movimento dos trabalhadores no Brasil do final do século XIX aos dias atuais.
            </p>
            <div className="mt-6 flex flex-wrap gap-2">
              <Pill>Industrialização</Pill>
              <Pill>Associações & Sindicatos</Pill>
              <Pill>Direitos Trabalhistas</Pill>
              <Pill>Greves Históricas</Pill>
            </div>
          </motion.div>
          <motion.div
            className="relative"
            initial={{ opacity: 0, y: 16 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.6, delay: 0.1 }}
          >
            <Card>
              <h3 className="text-xl font-bold flex items-center gap-2 mb-2"><Users className="w-5 h-5"/> Por que estudar?</h3>
              <p className="mb-4 text-neutral-700 dark:text-neutral-300">
                Compreender o movimento operário ajuda a explicar conquistas como jornada de trabalho, salário mínimo, férias e segurança no trabalho, além de mostrar como a participação coletiva transforma a sociedade.
              </p>
              <div className="grid grid-cols-3 gap-3 text-center">
                <div className="p-3 rounded-xl border border-neutral-200 dark:border-neutral-800">
                  <Hammer className="mx-auto"/>
                  <div className="text-sm mt-1">Organização</div>
                </div>
                <div className="p-3 rounded-xl border border-neutral-200 dark:border-neutral-800">
                  <Landmark className="mx-auto"/>
                  <div className="text-sm mt-1">Leis</div>
                </div>
                <div className="p-3 rounded-xl border border-neutral-200 dark:border-neutral-800">
                  <ShieldCheck className="mx-auto"/>
                  <div className="text-sm mt-1">Proteção</div>
                </div>
              </div>
            </Card>
          </motion.div>
        </div>
      </section>

      <Section id="introducao" title="Introdução" icon={BookOpen}>
        <div className="prose dark:prose-invert max-w-none">
          <p>
            O movimento operário no Brasil surge com a expansão da <strong>industrialização</strong> no final do século XIX e início do XX, reunindo trabalhadores de diversos setores em <strong>associações, ligas e sindicatos</strong>. Ao longo do tempo, sofreu repressões, construiu alianças e obteve conquistas que moldaram o mercado de trabalho e a <strong>cidadania social</strong> no país.
          </p>
        </div>
      </Section>

      <Section id="linha-do-tempo" title="Linha do tempo essencial" icon={Timeline}>
        <ol className="relative border-s border-neutral-200 dark:border-neutral-800 ml-2">
          <TimelineItem year="Fim do séc. XIX" title="Origens urbanas e industriais" text="Oficinas, portos e fábricas concentram trabalhadores; surgem as primeiras associações de auxílio mútuo e greves setoriais." />
          <TimelineItem year="1917" title="Greve Geral" text="Mobilização em São Paulo se espalha para outras cidades; reivindicações por jornada e melhores salários ganham força nacional." />
          <TimelineItem year="1930–1943" title="Era Vargas e CLT" text="Estado reorganiza relações de trabalho, cria Justiça do Trabalho e consolida direitos na CLT (1943)." />
          <TimelineItem year="1964–1985" title="Ditadura e resistência" text="Intervenções em sindicatos e repressão; greves do ABC no fim dos anos 1970 rearticulam o movimento." />
          <TimelineItem year="1988" title="Constituição Cidadã" text="Amplia direitos sociais e liberdade sindical; fortalece negociação coletiva." />
          <TimelineItem year="1990–presente" title="Reestruturação e desafios" text="Terceirização, informalidade e economia de plataformas colocam novos temas para a ação coletiva." />
        </ol>
      </Section>

      <Section id="greves" title="Greves & conquistas" icon={Hammer}>
        <div className="grid md:grid-cols-3 gap-6">
          <Card>
            <h3 className="font-bold mb-2">Greve Geral de 1917</h3>
            <p>Marco nacional das lutas operárias, com pautas por redução de
